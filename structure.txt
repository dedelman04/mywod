CREATE TABLE MyWODs(primaryClientID TEXT, primaryRecordID BIGINT, hasChangesForServer INTEGER, title TEXT, date TEXT, scoreType TEXT, score TEXT, personalRecord INTEGER, asPrescribed INTEGER, description TEXT, notes TEXT, heartRate TEXT, deleted INTEGER, randomPrimaryKeyOnServer TEXT DEFAULT NULL, parseId TEXT DEFAULT NULL, PRIMARY KEY(primaryClientID, primaryRecordID));
CREATE TABLE Movement (primaryClientID TEXT, primaryRecordID BIGINT, hasChangesForServer INTEGER, name TEXT, type INTEGER, deleted INTEGER, everModifiedByAthlete INTEGER DEFAULT 1, randomPrimaryKeyOnServer TEXT DEFAULT NULL, parseId TEXT DEFAULT NULL, PRIMARY KEY(primaryClientID, primaryRecordID));
CREATE TABLE CustomWODs(primaryClientID TEXT, primaryRecordID BIGINT, hasChangesForServer INTEGER, title TEXT, scoreType TEXT, description TEXT, deleted INTEGER, everModifiedByAthlete INTEGER DEFAULT 1, randomPrimaryKeyOnServer TEXT DEFAULT NULL, parseId TEXT DEFAULT NULL, PRIMARY KEY(primaryClientID, primaryRecordID));
CREATE TABLE Feeds(primaryClientID TEXT, primaryRecordID BIGINT, hasChangesForServer INTEGER, title TEXT, url TEXT, boxID INTEGER, username TEXT, password TEXT, deleted INTEGER, everModifiedByAthlete INTEGER DEFAULT 1, randomPrimaryKeyOnServer TEXT DEFAULT NULL, parseId TEXT DEFAULT NULL, PRIMARY KEY(primaryClientID, primaryRecordID));
CREATE INDEX indx_date_MyWODs ON MyWODs (date);
CREATE TABLE Athlete(primaryClientID TEXT,primaryRecordID BIGINT,hasChangesForServer INTEGER,randomPrimaryKeyOnServer TEXT DEFAULT NULL,firstName TEXT,lastName TEXT,email TEXT,height INTEGER,weight INTEGER,gender INTEGER,dateOfBirth TEXT,boxName TEXT,boxID INTEGER,avatar BLOB,avatarMD5Sum TEXT DEFAULT '',avatarAwsUrl TEXT DEFAULT NULL,units INTEGER,everModifiedByAthlete INTEGER,deleted INTEGER, randomId CHAR(16) DEFAULT NULL,PRIMARY KEY(primaryClientID, primaryRecordID));
CREATE TABLE MovementSessions (primaryClientID TEXT, primaryRecordID BIGINT, foreignMovementClientID TEXT, foreignMovementRecordID BIGINT, hasChangesForServer INTEGER, randomPrimaryKeyOnServer TEXT DEFAULT NULL, date TEXT, measurementAValue NUMERIC, measurementAUnitsCode INTEGER, measurementB TEXT, sets TEXT, notes TEXT, deleted INTEGER, parseId TEXT DEFAULT NULL, PRIMARY KEY (primaryClientID, primaryRecordID), FOREIGN KEY(foreignMovementClientID, foreignMovementRecordID) REFERENCES Movement(primaryClientID, primaryRecordID) ON DELETE CASCADE);
CREATE INDEX indx_athlete_hasChangesForServer ON Athlete (hasChangesForServer);
CREATE INDEX indx_mywods_hasChangesForServer ON MyWODs (hasChangesForServer);
CREATE INDEX indx_customwods_hasChangesForServer ON CustomWODs (hasChangesForServer);
CREATE INDEX indx_movement_hasChangesForServer ON Movement (hasChangesForServer);
CREATE INDEX indx_movement_sessions_hasChangesForServer ON MovementSessions (hasChangesForServer);
CREATE INDEX indx_feeds_hasChangesForServer ON Feeds (hasChangesForServer);
CREATE TABLE keys(resetTimestamp TEXT,completedWodIndex BIGINT,movementIndex BIGINT,movementSessionsIndex BIGINT,customWodIndex BIGINT,feedIndex BIGINT,lastSynchronization TEXT,lastChecksum TEXT DEFAULT '', athleteLS TEXT DEFAULT NULL, completedWodLS TEXT DEFAULT NULL, customWodLS TEXT DEFAULT NULL, movementLS TEXT DEFAULT NULL, movementSessionLS TEXT DEFAULT NULL, feedLS TEXT DEFAULT NULL);
